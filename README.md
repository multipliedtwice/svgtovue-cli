# svgtovue-cli

![](https://img.shields.io/badge/WAI--ARIA-support-green.svg)


----
Small Node.JS library based on SVGO for creating svg-icon components for Vue.JS + vIcon.vue component.

----
## About
- no dependencies
- no need to import icons manually
- WAI-ARIA ready
- fully customizable template
- no ```v-html``` used
- 834 bytes Gzipped
- automatic optimization of svg
- viewbox will be added automatically


## Demo
Coming soon.

```bash
# Global installation
npm install svg-to-vue -g

# Local installation
npm install svg-to-vue -D
```

## Usage
Just execute ```v-svg ./path/to/svg```. Your vue svg templates will appear at ```./path/to/templates/```.

The easiest way to use results produced by this plugin is following component:

##### ./components/vIcon.vue
<details>
    <summary>
        Click here to expand. Just create file ./components/vIcon.vue with following content:
    </summary>

    <template>
        <svg xmlns="http://www.w3.org/2000/svg"
        :height="height"
        :width="width"
        :viewBox="viewbox"
        :id="id"
        :aria-labelledby="title"
        :aria-describedby="desc"
        :role="role"
        v-if="component">
            <title v-if="title">{{ title }}</title>
            <desc v-if="desc">{{desc}}</desc>

            <g :fill="color" :style="iconStyle" v-else>
                <component :is="component" @onMounted="getViewbox"></component>
            </g>

        </svg>
    </template>

    <script>
    export default {
        name: 'v-icon',
        data() {
            return {
                component: () =>
                    /* specify path to generated templates here */
                    import('./templates/' + this.it + ".vue")
                    .then((template) => {
                        return template;
                    }),
                viewbox: '0 0 20 20'
            }
        },
        props: {
            it: {
                type: String,
                default: "default"
            },
            id: {
                type: String,
            },
            desc: {
                type: String,
            },
            role: {
                type: String,
                default: "img"
            },
            tabindex: {
                type: [Number, String],
                default: 0
            },
            title: {
                type: String,
                default: ""
            },
            iconStyle: {
                type: String,
                default: ""
            },
            width: {
                type: [Number, String],
                default: 24
            },
            height: {
                type: [Number, String],
                default: 24
            },
            color: {
                type: [String],
                default: "#333"
            }
        },
        methods: {
            getViewbox(viewbox) {
                this.viewbox = viewbox;
            }
        },
    };
    </script>

</details>

##### main.js
<details>
    <summary>
        Click here to expand. To install component globally you can add following code to your main.js
    </summary>

    import vIcon from './components/vIcon.vue'

    Vue.component("v-icon", vIcon);
</details>

##### Why copy&paste?
Unfortunately I haven't found any appropriate way to pack it as npm plugin because ```() => import()``` currently doesn't allow to use fully dynamic paths. Any advice would be greatly appreciated.

## Usage of v-icon

Default size is 24 x 24.

``it`` parameter should be same as name of *.vue template file, generated by plugin
```html
<v-icon
    it="arrow"
    color="#42b983"
    height="200"
    width="200"
/>
```

Of course, component can be used as ```<vIcon it="star"></vIcon>```,
